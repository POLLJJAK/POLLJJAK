<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.test.mybatis.IUserDAO">

	<!-- 쿼리문 가져올 때 『;』 제외하고 가져오기!! -->
	<!-- 테스트용 쿼리문 -->
	<!-- 
	<select id="list" resultType="com.test.dto.UserDTO">
		SELECT U_CODE, USER_CODE, SUBJECT_PART_CODE, REGION_PART_CODE
			 , POSITION_PART_CODE, TIME_PART_CODE, Domain_Part_Code
     		 , U_NAME, U_NICKNAME, U_TEL, U_EMAIL, U_INTRO, U_PORTFOLIO_URL
             , U_ID, U_PW
		FROM U
		ORDER BY U_CODE
	</select>
	 -->
	 
	<select id="add" resultType="com.test.dto.UserDTO" statementType="CALLABLE">
		{CALL USERREGISTRATION(#{subject_part_code, mode=IN, jdbcType=VARCHAR}
          , #{region_part_code, mode=IN, jdbcType=VARCHAR}
          , #{position_part_code, mode=IN, jdbcType=VARCHAR}
          , #{time_part_code, mode=IN, jdbcType=VARCHAR}
          , #{domain_part_code, mode=IN, jdbcType=VARCHAR}
          , #{u_name, mode=IN, jdbcType=VARCHAR}
          , #{u_nickname, mode=IN, jdbcType=VARCHAR}
          , #{u_tel, mode=IN, jdbcType=VARCHAR}
          , #{u_email, mode=IN, jdbcType=VARCHAR}
          , #{u_intro, mode=IN, jdbcType=VARCHAR}
          , #{u_portfolio_url, mode=IN, jdbcType=VARCHAR}
          , #{id, mode=IN, jdbcType=VARCHAR}
          , #{pw, mode=IN, jdbcType=VARCHAR}
          , #{skill_part_code, mode=IN, jdbcType=VARCHAR}
          , #{skill_part_code1, mode=IN, jdbcType=VARCHAR}
          , #{skill_part_code2, mode=IN, jdbcType=VARCHAR}
          , #{skill_part_code3, mode=IN, jdbcType=VARCHAR}
          )}
	</select>
	
	<select id="domainList" resultType="com.test.dto.DomainDTO">
		SELECT DOMAIN_PART_CODE, DOMAIN_ADDRESS, DOMAIN_PART
		FROM DOMAIN_PART
	</select>
	
	<select id="positionList" resultType="com.test.dto.PositionDTO">
		SELECT POSITION_PART_CODE, POSITION_PART
		FROM POSITION_PART
	</select>
	
	<select id="regionList" resultType="com.test.dto.RegionDTO">
		SELECT REGION_PART_CODE, REGION_PART
		FROM REGION_PART
	</select>
	
	<select id="timeList" resultType="com.test.dto.TimeDTO">
		SELECT TIME_PART_CODE, TIME_PART
		FROM TIME_PART
	</select>
	
	<select id="subjectList" resultType="com.test.dto.SubjectDTO">
		SELECT SUBJECT_PART_CODE, SUBJECT_PART
		FROM SUBJECT_PART
	</select>
	
	<select id="skillList" resultType="com.test.dto.SkillDTO">
		SELECT SKILL_PART_CODE, SKILL_PART
		FROM SKILL_PART
	</select>
	
	<select id="search" resultType="com.test.dto.UserDTO">
		SELECT U.U_ID, U_NICKNAME, U.U_NAME, U.U_PW
             , U.U_EMAIL, U.DOMAIN_PART_CODE, U.U_TEL
             , U.POSITION_PART_CODE, U.REGION_PART_CODE, U.TIME_PART_CODE, U.SUBJECT_PART_CODE
             , U_INTRO, U.U_PORTFOLIO_URL, US.SKILL_PART_CODE
        FROM U_SKILL US, U U
        WHERE US.USER_CODE = U.USER_CODE
          AND U.USER_CODE = #{user_code}
	</select>
	
	<update id="update">
		
	</update>
	 
</mapper>